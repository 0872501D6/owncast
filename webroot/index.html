<head>
  <meta charset="UTF-8" />
  <title>Live stream test</title>

  <link
    href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"
    rel="stylesheet"
  />
  <link href="./styles/layout.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

  <!-- Used for animating the scrolling of the chat div.  Can that be done other ways? -->
  <script src="vendor/jquery-2.1.4.min.js"></script>

  <script src="vendor/autolink.js"></script>
</head>

<body>
  <div id="app-container" class="flex no-chat">
    <header class="flex">
      <h1>
        ðŸ˜ˆ Owncast 
      </h1>

      <div id="user-options-container" class="flex">
        <span id="chat-toggle" class="rounded-full">ðŸ’¬</span>

        <div id="user-info">
          <div id="user-info-display" title="Click to update user name" class="flex">
            <img src="https://robohash.org/username123" id="username-avatar" class="rounded-full" />
            <span id="username-display">Random Username 123</span>
          </div>

          <div id="user-info-change">
            <input type="text"
              id="username-change-input"
              class="appearance-none block w-full bg-gray-200 text-gray-700   border border-black-500 rounded py-1 px-1 leading-tight  focus:bg-white"
              value="Random Username 123"
              maxlength="100"
              placeholder="Update username"
            >
            <button id="button-update-username" class="bg-blue-500 hover:bg-blue-700 text-white py-1 px-1 rounded user-btn">Update</button>
            <button id="button-cancel-change" class="bg-gray-900 hover:bg-gray-800 py-1 px-2 rounded user-btn" title="cancel">X</button>
          </div>
        </div>
      </div>

    </header>
    <div id="main-content-container" class="flex">
      <!-- LEFT CONTAINER SIDE-->
      <div class="flex main-cols left-col">

        <div id="video-container" class="flex shadow-md">
          <video
            id="video"
            preload="auto"
            controls
            src="https://ia800300.us.archive.org/17/items/BigBuckBunny_124/Content/big_buck_bunny_720p_surround.mp4"
          ></video>
        </div>

        <div id="stream-info">
          {{ streamStatus }} {{ viewerCount }} {{ 'viewer' | plural(viewerCount) }}.
        </div>
      </div>

      <!-- RIGHT CONTAINER SIDE-->
      <div class="flex main-cols right-col">

        <div id="chat-container">
          <div id="messages-container">
            <div v-for="(message, index) in messages">
                <div class="message flex">
                  <img
                    v-bind:src="message.image"
                    class="message-avatar rounded-full"
                  />
                  <div class="message-content">
                    <p class="message-author">{{ message.author }}</p>
                    <p class="message-text"v-html="message.linkedText()"></p>
                  </div>
              </div>
            </div>
          </div>
    
          <div id="message-input-container" class="shadow-md">
            <form id="message-form" class="flex" @submit="submitChatForm">

              <input type="hidden" name="inputAuthor" id="self-message-author"  v-model="message.author" />

              <!-- Author -->
              <!-- <label class="control-label" for="inputAuthor">Author</label>
              <input
                id="inputAuthor"
                type="text"
                class="appearance-none bg-gray-200 text-gray-700 border border-black-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                placeholder="Name"
                v-model="message.author"
              /> -->
     

              <textarea
                id="inputBody"
                placeholder="Message"
                v-model="message.body"
                class="appearance-none block w-full bg-gray-200 text-gray-700 border border-black-500 rounded py-2 px-2 my-2 leading-tight  focus:bg-white"
              ></textarea>
              
              <div id="message-form-actions" class="flex">
                <span id="message-form-warning">X chars left</span>
                <button
                  class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded"
                > Send
                </button>
              </div>
      
            </form>
          </div>
        </div>
      </div>
    </div>




  </div>

  <script src="js/message.js"></script>
  <script src="js/app.js"></script>
</body>
</html>